{% extends "base.html" %}
{% block content %}
<h2 style="text-align:center;">Завантаження фото / YouTube відео</h2>

<form method="post" enctype="multipart/form-data" class="upload-form">
    <!-- Логін -->
    <div class="input-icon">
        <input type="text" name="login" placeholder="Логін">
        <img src="https://cdn-icons-png.flaticon.com/512/14293/14293697.png" alt="login">
    </div>

    <!-- Пароль (не прихований) -->
    <div class="input-icon">
        <input type="text" name="password" placeholder="Пароль">
        <img src="https://cdn-icons-png.flaticon.com/512/2665/2665240.png" alt="password">
    </div>

    <!-- Файл -->
    <div class="input-icon">
        <input type="text" id="file-name" placeholder="Виберіть фото..." readonly>
        <input type="file" id="file-input" name="file" accept=".png,.jpg,.jpeg,.gif,.bmp,.webp,.tiff,.svg,.mp4,.avi,.mov,.mkv,.wmv,.flv,.webm" style="display:none;">
        <img src="https://cdn-icons-png.flaticon.com/512/2206/2206449.png" alt="file" onclick="document.getElementById('file-input').click();">
    </div>

    <!-- YouTube -->
    <div class="input-icon">
        <input type="text" name="youtube_link" placeholder="Посилання на YouTube">
        <img src="https://cdn-icons-png.flaticon.com/512/2875/2875384.png" alt="youtube">
    </div>

    <button type="submit" class="btn-purple">Додати</button>
</form>

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul class="flash-messages">
            {% for msg in messages %}
                <li>{{ msg }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

<script>
// Показуємо ім'я вибраного файлу
document.getElementById('file-input').addEventListener('change', function(){
    const fileNameField = document.getElementById('file-name');
    if(this.files.length > 0){
        fileNameField.value = this.files[0].name;
    } else {
        fileNameField.value = '';
    }
});
</script>

{% endblock %}
